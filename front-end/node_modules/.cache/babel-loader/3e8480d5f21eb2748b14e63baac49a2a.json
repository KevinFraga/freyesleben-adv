{"ast":null,"code":"var _jsxFileName = \"/home/kevinfraga-e14/Kayah/freyesleben-adv/front-end/src/components/login_form.jsx\";\nimport React, { Component } from \"react\";\nimport '../styles/hub.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require('axios').default;\n\nclass LoginForm extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      return this.setState({\n        [target.name]: target.value\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      new_user_name: '',\n      new_user_email: '',\n      new_user_password: '',\n      new_user_password_confirm: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.isValidLogin = this.isValidLogin.bind(this);\n    this.isValidNewUser = this.isValidNewUser.bind(this);\n    this.loginFunction = this.loginFunction.bind(this);\n    this.createNewUser = this.createNewUser.bind(this);\n  }\n\n  createInput(type, title, classtype) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classtype,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: type,\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: type,\n        name: type,\n        type: type,\n        value: this.state.name,\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this);\n  }\n\n  isValidLogin() {\n    const {\n      password,\n      email\n    } = this.state;\n    const emailRegex = /^[A-Z0-9._%+-]+@[A-Z0-9-]+\\.[A-Z]{2,4}(\\.[A-Z]{2})?$/i;\n    const passwordRegex = /^.{6,8}$/;\n    const emailTest = emailRegex.test(email);\n    const passwordTest = passwordRegex.test(password);\n    return emailTest && passwordTest;\n  }\n\n  isValidNewUser() {\n    const {\n      new_user_name,\n      new_user_email,\n      new_user_password,\n      new_user_password_confirm\n    } = this.state;\n    const nameRegex = /^[A-Z ]+$/i;\n    const emailRegex = /^[A-Z0-9._%+-]+@[A-Z0-9-]+\\.[A-Z]{2,4}(\\.[A-Z]{2})?$/i;\n    const passwordRegex = /^.{6,25}$/;\n    const new_user_name_test = nameRegex.test(new_user_name);\n    const new_user_email_test = emailRegex.test(new_user_email);\n    const new_user_password_test = passwordRegex.test(new_user_password);\n    const new_user_password_confirm_test = passwordRegex.test(new_user_password_confirm);\n    const password_confirm_test = new_user_password === new_user_password_confirm;\n    return new_user_name_test && new_user_email_test && new_user_password_test && new_user_password_confirm_test && password_confirm_test;\n  }\n\n  loginFunction() {\n    const {\n      email,\n      password\n    } = this.state;\n    const headers = {\n      email,\n      password\n    };\n    axios.post('http://localhost:3007/login', headers);\n  }\n\n  createNewUser() {\n    const {\n      new_user_name,\n      new_user_email,\n      new_user_password\n    } = this.state;\n    const headers = {\n      name: new_user_name,\n      email: new_user_email,\n      password: new_user_password\n    };\n    axios.post('http://localhost:3007/user', { ...headers\n    }).then(response => {\n      if (response.data.error) {}\n\n      ;\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  createButton(registered) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: registered ? !this.isValidLogin() : !this.isValidNewUser(),\n        onClick: registered ? this.loginFunction : this.createNewUser,\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"ACESSO EXCLUSIVO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\xC1REA DE CLIENTES CADASTRADOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), this.createInput('email', 'Login', 'login-form'), this.createInput('password', 'Senha', 'login-form'), this.createButton(true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"AINDA N\\xC3O FAZ PARTE DA COMUNIDADE?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"CADASTRE-SE AQUI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), this.createInput('new_user_name', 'Nome Completo', 'new-user-form'), this.createInput('new_user_email', 'Email', 'new-user-form'), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [this.createInput('new_user_password', 'Senha', 'new-user-form'), this.createInput('new_user_password_confirm', 'Confirmação de Senha', 'new-user-form')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), this.createButton(false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["/home/kevinfraga-e14/Kayah/freyesleben-adv/front-end/src/components/login_form.jsx"],"names":["React","Component","axios","require","default","LoginForm","constructor","handleChange","target","setState","name","value","state","email","password","new_user_name","new_user_email","new_user_password","new_user_password_confirm","bind","isValidLogin","isValidNewUser","loginFunction","createNewUser","createInput","type","title","classtype","emailRegex","passwordRegex","emailTest","test","passwordTest","nameRegex","new_user_name_test","new_user_email_test","new_user_password_test","new_user_password_confirm_test","password_confirm_test","headers","post","then","response","data","error","console","log","catch","createButton","registered","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport '../styles/hub.css';\n\nconst axios = require('axios').default;\n\nclass LoginForm extends Component {\n    constructor() {\n        super();\n        this.state = {\n            email: '',\n            password: '',\n            new_user_name: '',\n            new_user_email: '',\n            new_user_password: '',\n            new_user_password_confirm: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.isValidLogin = this.isValidLogin.bind(this);\n        this.isValidNewUser = this.isValidNewUser.bind(this);\n        this.loginFunction = this.loginFunction.bind(this);\n        this.createNewUser = this.createNewUser.bind(this);\n    }\n\n    handleChange = ({ target }) => this.setState({\n        [target.name]: target.value,\n    });\n\n\n    createInput(type, title, classtype) {\n        return (\n            <div className={classtype}>\n                <label htmlFor={type}>{title}</label>\n                <input\n                    id={type}\n                    name={type}\n                    type={type}\n                    value={this.state.name}\n                    onChange={this.handleChange}\n                />\n            </div>\n        );\n    }\n\n    isValidLogin() {\n        const { password, email } = this.state;\n\n        const emailRegex = /^[A-Z0-9._%+-]+@[A-Z0-9-]+\\.[A-Z]{2,4}(\\.[A-Z]{2})?$/i;\n        const passwordRegex = /^.{6,8}$/;\n\n        const emailTest = emailRegex.test(email);\n        const passwordTest = passwordRegex.test(password);\n\n        return emailTest && passwordTest;\n    }\n\n    isValidNewUser() {\n        const { new_user_name, new_user_email, new_user_password, new_user_password_confirm } = this.state;\n\n        const nameRegex = /^[A-Z ]+$/i;\n        const emailRegex = /^[A-Z0-9._%+-]+@[A-Z0-9-]+\\.[A-Z]{2,4}(\\.[A-Z]{2})?$/i;\n        const passwordRegex = /^.{6,25}$/;\n\n        const new_user_name_test = nameRegex.test(new_user_name);\n        const new_user_email_test = emailRegex.test(new_user_email);\n        const new_user_password_test = passwordRegex.test(new_user_password);\n        const new_user_password_confirm_test = passwordRegex.test(new_user_password_confirm);\n        const password_confirm_test = new_user_password === new_user_password_confirm;\n\n        return new_user_name_test && new_user_email_test && new_user_password_test && new_user_password_confirm_test && password_confirm_test;\n    }\n\n    loginFunction() {\n        const { email, password } = this.state;\n\n        const headers = { email, password };\n\n        axios.post('http://localhost:3007/login', headers);\n    }\n\n    createNewUser() {\n        const { new_user_name, new_user_email, new_user_password } = this.state;\n\n        const headers = {\n            name: new_user_name,\n            email: new_user_email,\n            password: new_user_password\n        };\n\n        axios.post('http://localhost:3007/user', {...headers})\n            .then((response) => {\n                if (response.data.error) {};\n                console.log(response.data);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n        \n    }\n\n    createButton(registered) {\n        return (\n            <div>\n                <button\n                    type=\"submit\"\n                    disabled={registered ? !this.isValidLogin() : !this.isValidNewUser()}\n                    onClick={registered ? this.loginFunction : this.createNewUser}\n                >\n                    Entrar\n                </button>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div>\n                <div>\n                    <p>ACESSO EXCLUSIVO</p>\n                    <p>ÁREA DE CLIENTES CADASTRADOS</p>\n                    {this.createInput('email', 'Login', 'login-form')}\n                    {this.createInput('password', 'Senha', 'login-form')}\n                    {this.createButton(true)}\n                </div>\n                <div>\n                    <p>AINDA NÃO FAZ PARTE DA COMUNIDADE?</p>\n                    <p>CADASTRE-SE AQUI</p>\n                    <span className=\"line\" />\n                    {this.createInput('new_user_name', 'Nome Completo', 'new-user-form')}\n                    {this.createInput('new_user_email', 'Email', 'new-user-form')}\n                    <div>\n                        <div>\n                            {this.createInput('new_user_password', 'Senha', 'new-user-form')}\n                            {this.createInput('new_user_password_confirm', 'Confirmação de Senha', 'new-user-form')}\n                        </div>\n                        {this.createButton(false)}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}